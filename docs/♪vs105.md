# speed ♪vs105

## Checking most efficient way of retrieving several fields from an array of children

### tl;dr

This was a surprising conclusion, and may well be different for different tables, different-sized arrays, and/or different numbers and types of fields that are getting loaded. Should probably test quite a variety of these.

	$boxes = wire('pages')->find("parent=$this, template=Box");

### Context

Anduin `/classes/SeriesPage.php`

``` php
public function cardShelfmark() {
	$boxes = wire('pages')->find("parent=$this, template=Box");	// line 68 (on 2023-05-16)
}
```

Speed tests conducted with the following code (except as noted):

``` php
	$timex =- hrtime(true);
	for ($i = 0; $i < 100000; $i++):
	     // thing to test goes here
	endfor;
	$timex += hrtime(true);
	echo tagP("", "note", number_format(($timex/1e+6)) . "µs");
```


### tests

#### 2,291µs

	$boxes = wire('pages')->find("parent=$this, template=Box, field=title|titleLong|url");

#### 1,092µs ← *fastest*

	$boxes = wire('pages')->find("parent=$this, template=Box");

---

	- ProcessWire: 3.0.210
	- PHP: 8.0.28
	- Webserver: nginx/1.22.1
	- MySQL Server: 10.4.28-MariaDB-1:10.4.28+maria~ubu2004-log
	- MySQL Client: mysqlnd 8.0.28

	SERVER SETTINGS
	- allow_url_fopen: 1
	- max_execution_time: 600 (changeable)
	- max_input_nesting_level: 64
	- max_input_time: -1
	- max_input_vars: 5000
	- memory_limit: 1024M
	- post_max_size: 100M
	- upload_max_filesize: 100M
	- xdebug: 
	- xdebug.max_nesting_level: 
	- mod_rewrite: 
	- mod_security: 
	- EXIF Support: 1
	- FreeType: 1

	GD SETTINGS
	- Version: 2.3.3
	- GIF: 1
	- JPG: 1
	- PNG: 1
	- WebP: 1

	IMAGICK SETTINGS
	- Version: 6.9.11
	- GIF: 1
	- JPG: 1
	- PNG: 1
	- SVG: 
	- PDF: 1
	- WebP: 1

	MODULE DETAILS
	- AdminOnSteroids: 2.0.21
	- BatchChildEditor: 1.8.25
	- BreadcrumbDropdowns: 0.3.8
	- FieldtypeConcat: 1.0.6
	- FieldtypeMultiplier: 0.1.4
	- FieldtypeRepeaterMatrix: 0.0.8
	- FontAwesomePro: 1.0.4
	- InputfieldMultiplier: 0.1.4
	- InputfieldRepeaterMatrix: 0.0.8
	- PageActionDelete: 0.0.4
	- PageActionMove: 0.0.2
	- PageActionSetField: 0.0.2
	- PageActionSetStatus: 0.0.2
	- ProcessHannaCode: 0.3.2
	- ProcessPageListerPro: 1.1.5
	- ProcessTracyAdminer: 1.1.3
	- ProcessWireUpgrade: 0.1.1
	- ProcessWireUpgradeCheck: 0.0.9
	- TextformatterHannaCode: 0.3.2
	- TextformatterTypographer: 1.1.1
	- TracyDebugger: 4.24.3
